increase_livingroom_lights:
  sequence:
    - service: light.turn_on
      data_template:
        entity_id: group.livingroomlights
        brightness: "{{ [(states.group.livingroomlights.attributes.brightness|default(0))+50, 255]|min }}"
        rgb_color: [255,255,255]

decrease_livingroom_lights:
  sequence:
    - service: light.turn_on
      data_template:
        entity_id: group.livingroomlights
        brightness: "{{ [(states.group.livingroomlights.attributes.brightness|default(0))-50, 0]|max }}"
        rgb_color: [255,255,255]
    - condition: template
      value_template: "{{ states('group.livingroomlights') == 'on' and states.group.livingroomlights.attributes.brightness == 0 }}"
    - service: light.turn_off
      entity_id: group.livingroomlights

hallway_away:
  sequence:
    - service: timer.start
      data_template:
        entity_id: timer.hallway
        duration: "{{ states('input_number.hallway_timeout_evening')|default(60)|int }}"
    - condition: state
      entity_id: light.hallway_frontdoor
      state: 'off'
    - condition: state
      entity_id: light.hallway_kitchen
      state: 'off'
    - service: light.turn_on
      data_template:
        entity_id: light.hallway_frontdoor, light.hallway_kitchen
        brightness_pct: "{{ states('input_number.hallway_brightness_evening')|int }}"
        rgb_color: [255,255,255] # white

hallway_morning:
  sequence:
    - service: timer.start
      data_template:
        entity_id: timer.hallway
        duration: "{{ states('input_number.hallway_timeout_morning')|default(60)|int }}"
    - condition: state
      entity_id: group.hallwaylights
      state: 'off'
    - service: light.turn_on
      data_template:
        entity_id: group.hallwaylights
        brightness_pct: "{{ states('input_number.hallway_brightness_morning')|int }}"
        rgb_color: [255,255,255] # white

hallway_midday:
  sequence:
    - service: timer.start
      data_template:
        entity_id: timer.hallway
        duration: "{{ states('input_number.hallway_timeout_midday')|default(60)|int }}"
    - condition: state
      entity_id: light.hallway_stairway
      state: 'off'
    - service: light.turn_on
      data_template:
        entity_id: light.hallway_stairway
        brightness_pct: "{{ states('input_number.hallway_brightness_midday')|int }}"
        rgb_color: [255,255,255] # white

hallway_evening:
  sequence:
    - service: timer.start
      data_template:
        entity_id: timer.hallway
        duration: "{{ states('input_number.hallway_timeout_evening')|default(60)|int }}"
    - condition: state
      entity_id: group.hallwaylights
      state: 'off'
    - service: light.turn_on
      data_template:
        entity_id: group.hallwaylights
        brightness_pct: "{{ states('input_number.hallway_brightness_evening')|int }}"
        rgb_color: [255,255,255] # white

hallway_night:
  sequence:
    - service: timer.start
      data_template:
        entity_id: timer.hallway
        duration: "{{ states('input_number.hallway_timeout_night')|default(60)|int }}"
    - condition: state
      entity_id: group.hallwaylights
      state: 'off'
    - service: light.turn_on
      data_template:
        entity_id: group.hallwaylights
        # effect: 'night'
        brightness_pct: "{{ states('input_number.hallway_brightness_night')|int }}"
        rgb_color: [255,255,255] # white

hallway_full:
  sequence:
    - service: timer.start
      data_template:
        entity_id: timer.hallway
        duration: "{{ states('input_number.hallway_timeout_full')|default(60)|int }}"
    - service: light.turn_on
      data_template:
        entity_id: group.hallwaylights
        brightness_pct: "{{ states('input_number.hallway_brightness_full')|int }}"
        rgb_color: [255,255,255] # white

hallway_off:
  sequence:
    - service: light.turn_off
      data:
        entity_id: group.hallwaylights

upperhallway_morning:
  sequence:
    - service: timer.start
      data_template:
        entity_id: timer.upperhallway
        duration: "{{ states('input_number.upperhallway_timeout_morning')|default(60)|int }}"
    - condition: state
      entity_id: group.upperhallwaylights
      state: 'off'
    - service: light.turn_on
      data_template:
        entity_id: group.upperhallwaylights
        brightness_pct: "{{ states('input_number.upperhallway_brightness_morning')|int }}"
        rgb_color: [255,255,255] # white

upperhallway_midday:
  sequence:
    - service: timer.start
      data_template:
        entity_id: timer.upperhallway
        duration: "{{ states('input_number.upperhallway_timeout_midday')|default(60)|int }}"
    - condition: state
      entity_id: light.upperhallway_storage
      state: 'off'
    - service: light.turn_on
      data_template:
        entity_id: light.upperhallway_storage
        brightness_pct: "{{ states('input_number.upperhallway_brightness_midday')|int }}"
        rgb_color: [255,255,255] # white

upperhallway_evening:
  sequence:
    - service: timer.start
      data_template:
        entity_id: timer.upperhallway
        duration: "{{ states('input_number.upperhallway_timeout_evening')|default(60)|int }}"
    - condition: state
      entity_id: group.upperhallwaylights
      state: 'off'
    - service: light.turn_on
      data_template:
        entity_id: group.upperhallwaylights
        brightness_pct: "{{ states('input_number.upperhallway_brightness_evening')|int }}"
        rgb_color: [255,255,255] # white

upperhallway_night:
  sequence:
    - service: timer.start
      data_template:
        entity_id: timer.upperhallway
        duration: "{{ states('input_number.upperhallway_timeout_night')|default(60)|int }}"
    - condition: state
      entity_id: group.upperhallwaylights
      state: 'off'
    - service: light.turn_on
      data_template:
        entity_id: group.upperhallwaylights
        brightness_pct: "{{ states('input_number.upperhallway_brightness_night')|int }}"
        rgb_color: [255,255,255] # white

upperhallway_full:
  sequence:
    - service: timer.start
      data_template:
        entity_id: timer.upperhallway
        duration: "{{ states('input_number.upperhallway_timeout_full')|default(60)|int }}"
    - service: light.turn_on
      data_template:
        entity_id: group.upperhallwaylights
        brightness_pct: "{{ states('input_number.upperhallway_brightness_full')|int }}"
        rgb_color: [255,255,255] # white

upperhallway_off:
  sequence:
    - service: light.turn_off
      data:
        entity_id: group.upperhallwaylights
